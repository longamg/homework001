<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./KPromise.js"></script>
</head>

<body>
    <h1>Promise</h1>
</body>
<script>

    // 对象；
    let p1 = new Promise((resolve, reject) => {

        // resolve("somevalue");
        reject("err");
    });
    // 一、promise对象 3种状态1.pendding 、resolved --fulfilled、rejected;
    /*
        Promise，就是一个对象，用来传递异步操作的消息。它代表了某个未来才会知道结果的事件（通常是一个异步操作），并且这个事件提供统一的 API，可供进一步处理。

        1、对象的状态不受外界影响。Promise 对象代表一个异步操作，有三种状态：
        pending: 初始状态，不是成功或失败状态。
        fulfilled: 意味着操作成功完成。
        rejected: 意味着操作失败。
        只有异步操作的结果，可以决定当前是哪一种状态，任何其他操作都无法改变这个状态。这也是 Promise 这个名字的由来，它的英语意思就是「承诺」，表示其他手段无法改变。
        2、一旦状态改变，就不会再变，任何时候都可以得到这个结果。Promise 对象的状态改变，只有两种可能：从 Pending 变为 Resolved 和从 Pending 变为 Rejected。只要这两种情况发生，状态就凝固了，不会再变了，会一直保持这个结果。就算改变已经发生了，你再对 Promise 对象添加回调函数，也会立即得到这个结果。这与事件（Event）完全不同，事件的特点是，如果你错过了它，再去监听，是得不到结果的。

    */
    console.log(p1);

    // 二、promise then里的2种参数；onresolved,onjected;
    // let p1 = new Promise((resolve,reject)=>{
    //     // resolve("成功");
    //     reject("错误");
    // }).then(res=>{
    //     console.log(res);
    // },err=>{
    //     console.log(err);
    // })
    throw

    // 三 then 的三种返还值；  有返还 、 无返还 、返还promose对象 --》 promise对象---》链式操作（then）；
    // let p1 = new Promise((resolve,reject)=>{
    //     resolve("成功");
    //     // reject("错误");
    // }).then(res=>{
    //     // return 111;
    //     return new Promise(resolve=>resolve("返还的值"))
    // }).then(res=>{
    //     console.log(res)
    // }).catch(err=>{
    //     console.log("catch",err);
    // })
    // console.log(p1);


    // let p1 = new Promise((resolve,reject)=>{
    //     setTimeout(()=>{
    //         resolve("1111");
    //         // reject("失败")
    //     },2000)
    // })
    // let p2 = new Promise((resolve,reject)=>{
    //     setTimeout(()=>{
    //         resolve("222");
    //         // reject()
    //     },1000)
    // })
    // 所有promise对象要执行成功
    // Promise.all([p1,p2]).then(res=>{
    //     console.log(res);
    // })
    // Promise.race([p1,p2]).then(res=>{
    //     console.log(res)
    // })

    // finally
    // p1.then(res=>{
    //     console.log(res);
    // }).finally(()=>{
    //     console.log("执行了")
    // })
    // p2.then(res=>{
    //     console.log(res);
    // }).finally(()=>{
    //     console.log("执行了")
    // })

//    let  p =   Promise.resolve("成功");
//    console.log(p);
//    let  p =   Promise.reject("失败");
//    console.log(p);










</script>

</html>